<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="src/style.css">
    <link rel="icon" type="image/svg+xml" href="./images/GN.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Куприяновы</title>
  </head>
  <body>
    <header>
      <h2 id="devise">SAVE THE DATE</h2>
      <div class="header-bottom-block">
        <h1>ГРИГОРИЙ  &&nbsp;НАТАЛЬЯ</h1>
        <h2 id="date">09 / 08 / 2025</h2>
      </div>
    </header>
    <section id = "intro">
      <p class="mainText">
        <strong>Дорогие наши родные и друзья!</strong>
        Сердечно приветствуем вас на странице, посвященной самому важному дню в нашей жизни. 
        Искренне благодарим за то, что вы разделите с нами 
        эту радость 
        — ваше присутствие сделает наш праздник по-настоящему совершенным.
      </p>
      <div class="firstIntroBlock">
        <ul class="love-elegance">
          <li>Любовь</li>
          <li>Элегантность</li>
          <li>Вечность</li>
          <li>Начало</li>
        </ul>
        <div class="firstPicBlock">
          <img src="./images/pic2.png" alt="" id="pic2">
          <img src="./images/pic3.jpg" alt="" id="pic3">
        </div>
      </div>
      <div class="secondIntroBlock">
        <p class="mainText">
          Для нас <strong>9 августа 2025 года </strong>
          — не просто дата в календаре.
          
          Это день, когда два сердца окончательно сливаются в одно, обещая друг другу вечность. 
          Мы счастливы от мысли, 
          что этот драгоценный миг мы будем переживать в кругу самых близких и дорогих сердцу людей — нашей семьи и верных друзей. 

          Ваши улыбки, теплые слова 
          и поддержка наполнят этот день особым, неповторимым светом.
        </p>
        <div class="secondPicBlock">
          <img src="./images/pic4.jpg" alt="" id="pic4">
          <img src="./images/pic5.jpg" alt="" id="pic5">
        </div>
      </div>
    </section>
    <section class="rules">
      <div class="dressCode">
        <h2>Дресс-код</h2>
        <p class="mainText">
          Стремясь к гармонии и изысканности общего вида нашего торжества, а также для 
          создания безупречных фотографий на память, мы будем вам крайне признательны, 
          если вы будете придерживаться следующего дресс-кода:
        </p>
        <div class="colors-block">
          <div class="color" id="color1"></div>
          <div class="color" id="color2"></div>
          <div class="color" id="color3"></div>
          <div class="color" id="color4"></div>
          <div class="color" id="color5"></div>
          <div class="color" id="color6"></div>
        </div>
        <div class="colors">
          <h3>Для дам:</h3>
          <p>
            Вечерние наряды в сдержанной палитре (пожалуйста, воздержитесь 
            от белого, молочного и цветов, близкиx к ним).
          </p>
          <h3>Для джентльменов:</h3>
          <p>
            хорошо подойдет классический вариант — сочетание рубашки 
            и брюк.
          </p>
          <p>
            Ваша элегантность станет неотъемлемой частью красоты этого вечера.
          </p>
          <div class="rulesPicBlock">
            <img src="./images/pic8.jpg" alt="" id="pic8">
            <img src="./images/pic9.jpg" alt="" id="pic9">
          </div>
        </div>
      </div>
      <div class="important">
        <h2>Несколько важных примечаний</h2>
        <h3>Об атмосфере вечера:</h3>
        <p>
          Мы мечтаем о душевной и утонченной атмосфере нашего праздника. 
          От всего сердца просим вас воздержаться от традиционных выкриков "Горько!". 
          Давайте вместе сохраним изысканность и очарование этого вечера для теплых, искренних бесед и танцев.
        </p>
        <h3>О подарках:</h3>
        <p>
          Ваше присутствие и теплые пожелания — самый дорогой для нас дар! Чтобы избавить вас от хлопот с выбором, 
          будем искренне признательны за ваше поздравление в конверте. Для тех, кто желает 
          преподнести именной подарок, мы составили виш-лист с пожеланиями для нашего совместного будущего. 
          Для вашего удобства и чтобы избежать совпадений, а также сохранить элемент сюрприза, 
          актуальный список подарков будет находиться у наших близких друзей: <br>Анна +7 937 646 3339 <br>Дмитрий +7 937 791 0321
        </p>
        <h3>Творческие поздравления:</h3>
        <p>
          Если ваше сердце подсказывает подготовить творческое поздравление 
          (танец, песня, теплые слова в особой форме), мы будем тронуты! 
          Для согласования нюансов и времени выступления, пожалуйста, заранее свяжитесь с нашим ведущим: 
          +7 927 265 5896 Роман
        </p>
      </div>
            <img src="./images/vetko.png" alt="ветка оливы" class="olive">
    </section>
    <section class="details">
      <div class="shedule">
        <h2>О времени и церемонии:</h2>
        <p class="mainText">
          Драгоценные минуты выездной церемонии бракосочетания начнутся <strong>ровно в 16:00 </strong>в уютном уголке парка. 
          Учитывая особенности пространства, <strong>любезно просим вас принять
          во внимание</strong>, что не все гости смогут разместиться на самой церемонии комфортно.
        </p>
        <h3>Если ваше сердце стремится быть рядом в этот особый момент:</h3>
        <p class="mainText">
          будем искренне рады видеть вас <strong>к 15:30 </strong>– возможно, нам придется немного потесниться, но ваша поддержка будет бесценна.
        </p>
        <h3>
          Если вы предпочтете присоединиться к празднованию позже:</h3>
          <p class="mainText">
            будем счастливы встретить вас к началу банкета в <strong>16:30</strong> – ваш теплый прием в этот час будет для нас равноценной радостью.
          </p>
          <p class="mainText">
            Пожалуйста, дайте нам знать о вашем предполагаемом времени прибытия, чтобы мы могли все предусмотреть (контакты ниже).
          </p>
      </div>
      <img src="./images/vetko.png" alt="ветка оливы" class="olive" style= "transform: scaleX(-1)">
    </section>
    <section class="ivitation">
      <div class="dirtyGreenBlock">
        <p>ПРИГЛАШЕНИЕ</p>
        <h2>9 АВГУСТА</h2>
        <p class="green-shedule">— 15:30 — <br>Фуршет</p>
        <p class="green-shedule">— 16:00 — <br>Выездная регистрация</p>
        <p class="green-shedule">— 17:00 — <br>Банкет</p>
        <p class="green-shedule">— 23:00 — <br>Окончание мероприятия</p>
      </div>
      <img src="./images/pic10.jpg" alt="" id="pic10">
      <div class="invitationLastText">
        <p class="mainText">А теперь — сохраните это чувство светлого ожидания.</p>
        <p class="mainText">До встречи 9 августа в «Дубраве», где каждая деталь будет говорить о любви.</p>
        <p class="mainText">Добро пожаловать в начало нашей вечности.</p>
        <p class="mainText">Ждём вас с открытым сердцем,</p>
        <h3>Григорий и Наталья</h3>
      </div>
      <div class="InvitationPicBlock">
        <img src="./images/pic11.jpg" alt="" id="pic11">
        <img src="./images/pic12.jpg" alt="" id="pic12">
      </div>
    </section>
    <footer>
			<img src="./images/GN-logo.png" alt="" id="gn-logo" />
			<form id="form" method="POST">
				<input type="text" name="name" id="" placeholder="Ваше имя" />
				<input type="text" name="telegram" id="" placeholder="Ваш телеграм" />
				<input type="tel" name="telephone" id="" placeholder="Ваш телефон" />
				<input
					type="text"
					name="allergy"
					id=""
					placeholder="Есть ли у вас аллергия"
				/>
				<button type="submit" id="submit-button">Я приду!</button>
      </form>
      <img src="./images/qr-cat.jpg" alt="" class="qr-cat">
      <p class="contacts">
        Свяжитесь с нами по всем вопросам: <br>
        Наталья +7 996 746 9845 <br>
        Григорий +7 917 160 8515
      </p>
      <img src="./images/pic13.jpg" alt="" id="pic13">
    </footer>

		<script>
			const form = document.getElementById('form');
			const submitButton = document.getElementById('submit-button');

			// Function to handle file upload
			async function uploadFile(file) {
				return new Promise((resolve, reject) => {
					const fr = new FileReader();
					fr.onload = (e) => {
						const data = e.target.result.split(',');
						const obj = {
							fileName: file.name,
							mimeType: data[0].match(/:(\w.+);/)[1],
							data: data[1],
						};
						resolve(obj);
					};
					fr.onerror = reject;
					fr.readAsDataURL(file);
				});
			}

			form.addEventListener('submit', async function (e) {
				e.preventDefault();
				submitButton.disabled = true;
				submitButton.classList.add('is-loading');

				try {
					const formData = new FormData(this);
					const formDataObj = {};

					// Convert FormData to object
					for (let [key, value] of formData.entries()) {
						formDataObj[key] = value;
					}

					// Submit form data
					const scriptURL =
						'https://script.google.com/macros/s/AKfycbz6rpD20OQlYmbp__HNLz8O0vA_0v-JBL2YpSix0WSquiCtmLclQ4wSzsqXqrmpqRcAJg/exec';

					const response = await fetch(scriptURL, {
						redirect: 'follow',
						method: 'POST',
						body: JSON.stringify(formDataObj),
						headers: {
							'Content-Type': 'text/plain;charset=utf-8',
						},
					});

					const data = await response.json();

					if (data.status === 'success') {
						form.reset();
						alert('Форма успешно отправлена!');
					} else {
						throw new Error(data.message || 'Submission failed');
					}
				} catch (error) {
					console.error('Error:', error);
				} finally {
					submitButton.disabled = false;
					submitButton.classList.remove('is-loading');
				}
			});

			// Enhance cancel button to reset file input display
			const cancelButton = form.querySelector('button.is-danger');
			cancelButton.addEventListener('click', function () {
				form.reset();
			});
		</script>
  </body>
</html>
